{"version":3,"sources":["file:///Users/zeruili/projects/cocos_project/driftClash/assets/scripts/MainMenuController.ts"],"names":["_decorator","Component","Button","Node","Label","SceneTransition","SoundManager","ccclass","property","MainMenuController","start","startGameBtn","node","on","EventType","CLICK","onStartGame","settingBtn","displaySettingPanel","closesettingBtn","hideSettingPanel","audioBtn","onAudioClick","updateAudioButtonLabel","settingPanel","active","instance","toggleAudio","audioLabel","string","isMuted","loadScene"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,M,OAAAA,M;AAAQC,MAAAA,I,OAAAA,I;AAAMC,MAAAA,K,OAAAA,K;;AACrCC,MAAAA,e,iBAAAA,e;;AACAC,MAAAA,Y,iBAAAA,Y;;;;;;;;;OACH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBR,U;;oCAGjBS,kB,WADZF,OAAO,CAAC,oBAAD,C,UAEHC,QAAQ,CAACN,MAAD,C,UAGRM,QAAQ,CAACN,MAAD,C,UAGRM,QAAQ,CAACN,MAAD,C,UAGRM,QAAQ,CAACN,MAAD,C,UAGRM,QAAQ,CAACL,IAAD,C,UAGRK,QAAQ,CAACJ,KAAD,C,2BAjBb,MACaK,kBADb,SACwCR,SADxC,CACkD;AAAA;AAAA;;AAAA;;AAEhB;AAFgB;;AAAA;;AAAA;;AAAA;;AAclB;AAdkB;AAAA;;AAiBnB;AAI3BS,QAAAA,KAAK,GAAG;AACJ,cAAI,KAAKC,YAAT,EAAuB;AACnB,iBAAKA,YAAL,CAAkBC,IAAlB,CAAuBC,EAAvB,CAA0BX,MAAM,CAACY,SAAP,CAAiBC,KAA3C,EAAkD,KAAKC,WAAvD,EAAoE,IAApE;AACH;;AACD,cAAG,KAAKC,UAAR,EAAmB;AACf,iBAAKA,UAAL,CAAgBL,IAAhB,CAAqBC,EAArB,CAAwBX,MAAM,CAACY,SAAP,CAAiBC,KAAzC,EAAgD,KAAKG,mBAArD,EAA0E,IAA1E;AACH;;AACD,cAAG,KAAKC,eAAR,EAAwB;AACpB,iBAAKA,eAAL,CAAqBP,IAArB,CAA0BC,EAA1B,CAA6BX,MAAM,CAACY,SAAP,CAAiBC,KAA9C,EAAqD,KAAKK,gBAA1D,EAA4E,IAA5E;AACH;;AACD,cAAG,KAAKC,QAAR,EAAiB;AACb,iBAAKA,QAAL,CAAcT,IAAd,CAAmBC,EAAnB,CAAsBX,MAAM,CAACY,SAAP,CAAiBC,KAAvC,EAA8C,KAAKO,YAAnD,EAAiE,IAAjE;AACH;;AACD,eAAKC,sBAAL;AACH;;AAEDL,QAAAA,mBAAmB,GAAG;AAClB,eAAKM,YAAL,CAAkBC,MAAlB,GAA2B,IAA3B;AACH;;AAEDL,QAAAA,gBAAgB,GAAG;AACf,eAAKI,YAAL,CAAkBC,MAAlB,GAA2B,KAA3B;AACH;;AAEDH,QAAAA,YAAY,GAAG;AACZ;AAAA;AAAA,4CAAaI,QAAb,CAAsBC,WAAtB;AACA,eAAKJ,sBAAL;AACF;;AAEDA,QAAAA,sBAAsB,GAAG;AACrB,cAAI,KAAKK,UAAT,EAAqB;AACjB,iBAAKA,UAAL,CAAgBC,MAAhB,GAAyB;AAAA;AAAA,8CAAaH,QAAb,CAAsBI,OAAtB,KAAkC,MAAlC,GAA2C,MAApE;AACH;AACJ;;AAGDd,QAAAA,WAAW,GAAG;AACV;AAAA;AAAA,kDAAgBe,SAAhB,CAA0B,aAA1B,EADU,CAEV;AACH;;AA5D6C,O;;;;;iBAEvB,I;;;;;;;iBAGF,I;;;;;;;iBAGK,I;;;;;;;iBAGP,I;;;;;;;iBAGE,I;;;;;;;iBAGD,I","sourcesContent":["import { _decorator, Component, Button, Node, Label } from 'cc';\nimport { SceneTransition } from './SceneTransition';\nimport { SoundManager } from './SoundManager';\nconst { ccclass, property } = _decorator;\n\n@ccclass('MainMenuController')\nexport class MainMenuController extends Component {\n    @property(Button)\n    startGameBtn: Button = null!; // 拖拽你的\"开始游戏\"按钮到这里\n\n    @property(Button)\n    settingBtn: Button = null!; \n\n    @property(Button)\n    closesettingBtn: Button = null!; \n\n    @property(Button)\n    audioBtn: Button = null!; \n\n    @property(Node)\n    settingPanel: Node = null!; // 拖拽你的设置面板节点到这里\n\n    @property(Label)\n    audioLabel: Label = null!; // 拖拽音效按钮的Label组件到这里\n\n\n\n    start() {\n        if (this.startGameBtn) {\n            this.startGameBtn.node.on(Button.EventType.CLICK, this.onStartGame, this);\n        }\n        if(this.settingBtn){\n            this.settingBtn.node.on(Button.EventType.CLICK, this.displaySettingPanel, this);\n        }\n        if(this.closesettingBtn){\n            this.closesettingBtn.node.on(Button.EventType.CLICK, this.hideSettingPanel, this);\n        }\n        if(this.audioBtn){\n            this.audioBtn.node.on(Button.EventType.CLICK, this.onAudioClick, this);\n        }\n        this.updateAudioButtonLabel();\n    }\n\n    displaySettingPanel() {\n        this.settingPanel.active = true;\n    }\n\n    hideSettingPanel() {\n        this.settingPanel.active = false;\n    }\n\n    onAudioClick() {\n       SoundManager.instance.toggleAudio();\n       this.updateAudioButtonLabel();\n    }\n\n    updateAudioButtonLabel() {\n        if (this.audioLabel) {\n            this.audioLabel.string = SoundManager.instance.isMuted() ? \"音效:关\" : \"音效:开\";\n        }\n    }\n\n\n    onStartGame() {\n        SceneTransition.loadScene(\"LevelSelect\");\n        // director.loadScene(\"gamescene\");\n    }\n}"]}