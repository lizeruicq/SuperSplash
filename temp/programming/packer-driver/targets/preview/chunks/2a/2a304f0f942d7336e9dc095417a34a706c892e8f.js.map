{"version":3,"sources":["file:///Users/zeruili/projects/cocos_project/driftClash/assets/scripts/MainMenuController.ts"],"names":["_decorator","Component","Button","Node","Label","SceneTransition","SoundManager","ccclass","property","MainMenuController","start","startGameBtn","node","on","EventType","CLICK","onStartGame","settingBtn","displaySettingPanel","closesettingBtn","hideSettingPanel","helpButton","displayHelpPanel","closehelpBtn","hideHelpPanel","audioBtn","onAudioClick","updateAudioButtonLabel","settingPanel","active","helpPanel","instance","toggleAudio","audioLabel","string","isMuted","playSoundEffect","loadScene"],"mappings":"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","sourcesContent":["import { _decorator, Component, Button, Node, Label } from 'cc';\nimport { SceneTransition } from './SceneTransition';\nimport { SoundManager } from './SoundManager';\nconst { ccclass, property } = _decorator;\n\n@ccclass('MainMenuController')\nexport class MainMenuController extends Component {\n    @property(Button)\n    startGameBtn: Button = null!; // 拖拽你的\"开始游戏\"按钮到这里\n\n    @property(Button)\n    settingBtn: Button = null!; \n\n    @property(Button)\n    closesettingBtn: Button = null!; \n\n    @property(Button)\n    audioBtn: Button = null!; \n\n    @property(Node)\n    settingPanel: Node = null!; // 拖拽你的设置面板节点到这里\n\n    @property(Label)\n    audioLabel: Label = null!; // 拖拽音效按钮的Label组件到这里\n\n\n    @property(Button)\n    helpButton: Button = null!; \n\n    @property(Button)\n    closehelpBtn: Button = null!; \n\n    @property(Node)\n    helpPanel: Node = null!; // 拖拽你的设置面板节点到这里\n\n\n\n    start() {\n        if (this.startGameBtn) {\n            this.startGameBtn.node.on(Button.EventType.CLICK, this.onStartGame, this);\n        }\n        if(this.settingBtn){\n            this.settingBtn.node.on(Button.EventType.CLICK, this.displaySettingPanel, this);\n        }\n        if(this.closesettingBtn){\n            this.closesettingBtn.node.on(Button.EventType.CLICK, this.hideSettingPanel, this);\n        }\n\n        if(this.helpButton){\n            this.helpButton.node.on(Button.EventType.CLICK, this.displayHelpPanel, this);\n        }\n        if(this.closehelpBtn){\n            this.closehelpBtn.node.on(Button.EventType.CLICK, this.hideHelpPanel, this);\n        }\n\n        if(this.audioBtn){\n            this.audioBtn.node.on(Button.EventType.CLICK, this.onAudioClick, this);\n        }\n        this.updateAudioButtonLabel();\n    }\n\n    displaySettingPanel() {\n        this.settingPanel.active = true;\n    }\n\n    hideSettingPanel() {\n        this.settingPanel.active = false;\n    }\n\n    displayHelpPanel() {\n        this.helpPanel.active = true;\n    }\n\n    hideHelpPanel() {\n        this.helpPanel.active = false;\n    }\n\n\n    onAudioClick() {\n       SoundManager.instance.toggleAudio();\n       this.updateAudioButtonLabel();\n    }\n\n    updateAudioButtonLabel() {\n        if (this.audioLabel) {\n            this.audioLabel.string = SoundManager.instance.isMuted() ? \"音效:关\" : \"音效:开\";\n        }\n    }\n\n\n    onStartGame() {\n        SoundManager.instance.playSoundEffect('buttonClick');\n        SceneTransition.loadScene(\"LevelSelect\");\n        // director.loadScene(\"gamescene\");\n    }\n}"]}